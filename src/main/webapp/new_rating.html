<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!--jquery for bootstrap-->
    <script src="../jquery/3.0.0.min.js"></script>

    <!--bootstrap dependencies-->
    <link rel="stylesheet" href="bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="bootstrap/3.3.7/css/bootstrap-theme.min.css">
    <script src="bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="css/new_rating.css">

    <script src="js/appearance.js"></script>
    <script src="js/array.js"></script>
</head>
<body>
    <div class="container-fluid">
        <div id="row0" class="row">
            <div id="col0" class="col-md-4">
                <div id="unit0" class="unit">
                    <div id="cp0" class="colors-pictures"></div>
                    <div id="cover0" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr0" class="rating-review">
                        <input id="rating0" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review0" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct0" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt0" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col1" class="col-md-4">
                <div id="unit1" class="unit">
                    <div id="cp1" class="colors-pictures"></div>
                    <div id="cover1" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr1" class="rating-review">
                        <input id="rating1" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review1" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct1" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt1" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col2" class="col-md-4">
                <div id="unit2" class="unit">
                    <div id="cp2" class="colors-pictures"></div>
                    <div id="cover2" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr2" class="rating-review">
                        <input id="rating2" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review2" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct2" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt2" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
        </div>
        <div id="row1" class="row">
            <div id="col3" class="col-md-4">
                <div id="unit3" class="unit">
                    <div id="cp3" class="colors-pictures"></div>
                    <div id="cover3" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr3" class="rating-review">
                        <input id="rating3" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review3" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct3" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt3" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col4" class="col-md-4">
                <div id="unit4" class="unit">
                    <div id="cp4" class="colors-pictures"></div>
                    <div id="cover4" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr4" class="rating-review">
                        <input id="rating4" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review4" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct4" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt4" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col5" class="col-md-4">
                <div id="unit5" class="unit">
                    <div id="cp5" class="colors-pictures"></div>
                    <div id="cover5" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr5" class="rating-review">
                        <input id="rating5" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review5" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct5" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt5" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
        </div>
        <div id="row2" class="row">
            <div id="col6" class="col-md-4">
                <div id="unit6" class="unit">
                    <div id="cp6" class="colors-pictures"></div>
                    <div id="cover6" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr6" class="rating-review">
                        <input id="rating6" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review6" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct6" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt6" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col7" class="col-md-4">
                <div id="unit7" class="unit">
                    <div id="cp7" class="colors-pictures"></div>
                    <div id="cover7" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr7" class="rating-review">
                        <input id="rating7" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review7" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct7" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt7" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col8" class="col-md-4">
                <div id="unit8" class="unit">
                    <div id="cp8" class="colors-pictures"></div>
                    <div id="cover8" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr8" class="rating-review">
                        <input id="rating8" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review8" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct8" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt8" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
        </div>
        <div id="row3" class="row">
            <div id="col9" class="col-md-4">
                <div id="unit9" class="unit">
                    <div id="cp9" class="colors-pictures"></div>
                    <div id="cover9" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr9" class="rating-review">
                        <input id="rating9" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review9" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct9" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt9" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col10" class="col-md-4">
                <div id="unit10" class="unit">
                    <div id="cp10" class="colors-pictures"></div>
                    <div id="cover10" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr10" class="rating-review">
                        <input id="rating10" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review10" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct10" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt10" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col11" class="col-md-4">
                <div id="unit11" class="unit">
                    <div id="cp11" class="colors-pictures"></div>
                    <div id="cover11" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr11" class="rating-review">
                        <input id="rating11" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review11" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct11" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt11" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
        </div>
        <div id="row4" class="row">
            <div id="col12" class="col-md-4">
                <div id="unit12" class="unit">
                    <div id="cp12" class="colors-pictures"></div>
                    <div id="cover12" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr12" class="rating-review">
                        <input id="rating12" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review12" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct12" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt12" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col13" class="col-md-4">
                <div id="unit13" class="unit">
                    <div id="cp13" class="colors-pictures"></div>
                    <div id="cover13" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr13" class="rating-review">
                        <input id="rating13" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review13" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct13" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt13" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
            <div id="col14" class="col-md-4">
                <div id="unit14" class="unit">
                    <div id="cp14" class="colors-pictures"></div>
                    <div id="cover14" class="cover"><span class="helper"></span><img/></div>
                    <div id="rr14" class="rating-review">
                        <input id="rating14" class="rating" type='range' min='0' max='10' value='0.5' step='0.01'\>
                        <textarea id="review14" class="review"></textarea>
                    </div>
                    <div class="unit-tabs">
                        <div id="ct14" class="cover-tab" onclick="checkSave(this.id)"></div>
                        <div id="rt14" class="rr-tab" onclick="reviewOrClear(this.id)"><br>&#9776;</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var num_items = 15;
        var placeholder_url = 'img/noImage.jpg';

        var reviews = new Array();
        function getData() {
            $.get("/rest/data", {facebook_id: "908647875932760"}, function(results) {
                results = shuffle(results);

                for (var i = 0; i < num_items; i++) {
                    var cover_id = "#cover" + i + " img";
                    console.log(cover_id);

                    var item = results[i][0];

                    var url = item.url;
                    if (url == "N/A")
                        url = placeholder_url;

                    $(cover_id).attr("src", url);
                }
            });
        }

        function showRatingsPics(ratings, urls) {
            for (var i = 0; i < rating.length; i++) {

            }
        }

        var shown = new Array();
        for (var i = 0; i < num_items; i++) {
            shown[i] = false;
        }

        getData();

        function checkSave(id) {
            var ct_id = "#" + id;
            $(ct_id).css("border-right", "5px solid white");
            $(ct_id).css("border-top", "5px solid white");
            $(ct_id).css("border-bottom", "none");
            $(ct_id).css("border-left", "none");

            id = id.substring(2);
            $(id).css("border-left", "none");

            var cover_id = "#cover" + id;
            var rr_id = "#rr" + id;

            var rt_id = "#rt" + id;
            $(rt_id).css("border-bottom", "none");
            $(rt_id).css("border-right", "none");
            $(rt_id).css("border-left", "5px solid white");
            $(rt_id).css("border-top", "5px solid white");

            if (shown[id] == true) {
                $(rr_id).css('display', 'none');
                $(cover_id).css('display', 'inline-block');
                shown[id] = false;
            }
        }

        function reviewOrClear(id) {
            var rt_id = "#" + id;
            $(rt_id).css("border-left", "none");
            $(rt_id).css("border-top", "none");
            $(rt_id).css("border-bottom", "5px solid white");
            $(rt_id).css("border-right", "5px solid white");

            id = id.substring(2);
            var cover_id = "#cover" + id;
            var rr_id = "#rr" + id;

            var ct_id = "#ct" + id;
            $(ct_id).css("border-bottom", "5px solid white");
            $(ct_id).css("border-left", "5px solid white");
            $(ct_id).css("border-right", "none");
            $(ct_id).css("border-top", "none");

            if (shown[id] == false) {
                $(cover_id).css('display', 'none');
                $(rr_id).css('display', 'inline-block');
                shown[id] = true;
            }
        }
    </script>
</body>
</html>
